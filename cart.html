<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-292RYDSJDF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-292RYDSJDF');
</script>
<!-- Microsoft tag  -->
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "rfsdjfgxzi");
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftMart - Shopping Cart</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- Navigation Bar -->
<nav>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="product-listing.html">Products</a></li>
        <li><a href="about-us.html">About Us</a></li>
        <li><a href="contact-us.html">Contact Us</a></li>
        <li><a href="cart.html">Shopping Cart</a></li> <!-- Added Cart Link -->
    </ul>
</nav>

<!-- Shopping Cart -->
<section class="cart">
    <h2>Your Shopping Cart</h2>
    <div id="cart-items"></div>  <!-- Cart items will be dynamically added here -->

    <p>Total: $<span id="cart-total">0.00</span></p>
    <button onclick="checkout()">Proceed to Checkout</button>
</section>

<!-- Footer -->
<footer>
    <p>SwiftMart | <a href="about-us.html">About Us</a> | <a href="contact-us.html">Contact Us</a></p>
</footer>

<script>
    // Cart items, which would usually be stored in local storage or server-side.
    let cart = [
        { id: 1, name: "Product 1", price: 19.99, quantity: 1, image: "https://via.placeholder.com/150" },
        { id: 2, name: "Product 2", price: 29.99, quantity: 2, image: "https://via.placeholder.com/150" }
    ];

    // Function to render cart items dynamically
    function renderCart() {
        const cartItemsDiv = document.getElementById("cart-items");
        cartItemsDiv.innerHTML = ''; // Clear previous items
        let total = 0;

        cart.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('cart-item');
            itemDiv.innerHTML = `
                <img src="${item.image}" alt="${item.name}" />
                <p>${item.name} - $${item.price}</p>
                <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${item.id}, this.value)" />
                <button onclick="removeItem(${item.id})">Remove</button>
            `;
            cartItemsDiv.appendChild(itemDiv);

            // Update total price
            total += item.price * item.quantity;
        });

        // Update the total in the UI
        document.getElementById('cart-total').textContent = total.toFixed(2);
    }

    // Function to update quantity
    function updateQuantity(itemId, quantity) {
        const item = cart.find(i => i.id === itemId);
        if (item) {
            item.quantity = parseInt(quantity);
            renderCart();
        }
    }

    // Function to remove an item from the cart
    function removeItem(itemId) {
        cart = cart.filter(item => item.id !== itemId);
        renderCart();
    }

    // Function to proceed to checkout
    function checkout() {
        if (cart.length > 0) {
            alert("Proceeding to checkout...");
            // Clear cart after order submission
            cart = [];
            renderCart();
            window.location.href = "checkout.html"; // Redirect to checkout
        } else {
            alert("Your cart is empty. Please add items to your cart before proceeding.");
        }
    }

    // Initial render of the cart
    renderCart();
</script>

</body>
</html>
